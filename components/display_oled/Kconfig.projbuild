menu "OLED Display (SH1106)"

    config IAQ_OLED_ENABLE
        bool "Enable OLED display"
        default y
        help
            Enable the SH1106-based OLED display. Uses the shared I2C bus
            (see Sensor Hardware Configuration → I2C Bus Configuration).

    config IAQ_OLED_I2C_ADDR
        int "OLED I2C address"
        default 60  # 0x3C
        range 8 119
        depends on IAQ_OLED_ENABLE
        help
            7-bit I2C address for the OLED controller. Most SH1106/SSD1306 modules
            are at 0x3C (60) or 0x3D (61).

    config IAQ_OLED_COLUMN_OFFSET
        int "Column offset for 132-wide modules"
        default 2
        range 0 4
        depends on IAQ_OLED_ENABLE
        help
            SH1106 has 132 columns with typically only 128 visible. Set the left
            column offset (0–4) so the 128-pixel content is centered.

    choice IAQ_OLED_ROTATION
        prompt "Rotation"
        default IAQ_OLED_ROTATION_0
        depends on IAQ_OLED_ENABLE
        help
            Rotate the display 0 or 180 degrees.

        config IAQ_OLED_ROTATION_0
            bool "0°"

        config IAQ_OLED_ROTATION_180
            bool "180°"
    endchoice

    config IAQ_OLED_CONTRAST
        int "Contrast (0-255)"
        default 96
        range 0 255
        depends on IAQ_OLED_ENABLE
        help
            SH1106 contrast (0x81 command). Typical: 96–160.

    config IAQ_OLED_REFRESH_MS
        int "Refresh interval (ms)"
        default 500
        range 100 5000
        depends on IAQ_OLED_ENABLE
        help
            UI refresh cadence for dynamic screens.

    config IAQ_OLED_IDLE_TIMEOUT_MS
        int "Idle auto-off timeout (ms)"
        default 60000
        range 0 3600000
        depends on IAQ_OLED_ENABLE
        help
            Turns off the display after inactivity. 0 disables auto-off.

    menu "Night Schedule"
        depends on IAQ_OLED_ENABLE

        config IAQ_OLED_NIGHT_START_H
            int "Night start hour (0-23)"
            default 23
            range 0 23
        config IAQ_OLED_NIGHT_END_H
            int "Night end hour (0-23)"
            default 7
            range 0 23
        config IAQ_OLED_WAKE_SECS
            int "Night wake duration (s)"
            default 15
            range 5 600
            help
                When in night mode, a button press will wake the display for this duration.
    endmenu

    menu "Button"
        depends on IAQ_OLED_ENABLE

        config IAQ_OLED_BUTTON_GPIO
            int "Button GPIO (-1 to disable)"
            default -1
            range -1 48
        config IAQ_OLED_BUTTON_ACTIVE_LOW
            bool "Button is active low"
            default y
        config IAQ_OLED_BUTTON_DEBOUNCE_MS
            int "Debounce (ms)"
            default 30
            range 1 200
        config IAQ_OLED_BUTTON_LONG_MS
            int "Long-press threshold (ms)"
            default 1200
            range 100 10000
    endmenu

endmenu

